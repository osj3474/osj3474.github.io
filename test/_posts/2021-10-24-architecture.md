---
title: \[Web\] 서비스를 인프라 관점으로 보기
excerpt: "백엔드와 인프라의 관계"
categories:
   - web
---

<br><br>


# 시작하며

----------------------------------------------

- API Gateway

  : MSA환경에서는 각 서버의 도메인이 다를 수 있는데, 이 때 클라이언트의 요청을 라우팅해주는 역할을 합니다. 그것 말고도, 로깅이나, 인증 같은 역할도 수행할 수 있습니다.

- L4, L7

- Redis

  : Redis는 캐시 서버입니다. 구조는 key-value 의 HashMap 구조를 가지고 있으며, DB부하를 낮추는 용도로도 쓸 수 있고, MSA환경에서 세션 스토리지의 역할로도 사용될 수 있습니다. 이 때, Redis는 휘발성이기 때문에 영구 보관해야하는 데이터는 캐시에 두는 것이 바람직하지 않습니다. 다만 redis는 DB 값이 변경됨을 모르니까 kafka와 같은 메세지 큐를 이용해 동기화 작업이 필요합니다.

  - 싱글 쓰레드

  - 메모리 파편화

    : 프로세스는 메모리를 할당 받아서 동작하게 되는데, 메모리 할당이 연속적이지 못해서 memory hole이 발생하고, 이를 해결하기 위해 논리적 주소를 활용한 1) 페이징 이나 2) segmentaion 이 해결책으로 제시가 됩니다.

    - 페이징 : 프로세스 메모리가 page단위로 할당되는 방식으로 메모리 양이 page의 배수 단위가 아니면, 내부 fragmentation이 발생한다.
    - segmentation : 세그먼트 단위로 메모리를 나누는 방식으로 내부 fragmentation을 해결하지만, 외부 fragmentation이 발생한다.

  - Swap

    : 실행하는 프로세스는 메모리에 올리고, 실행하지 않는 프로세스는 디스크로 내리는 과정. Redis는 싱글 쓰레드이니 swap을 할지 말지.

  - Replication

    

=> 인프라로 해결되는 경우가 많다.

(쿠키/세션 방식에서 MSA를 한다면 캐시 서버를 사용하게 되는 것이나, 정적 컨텐츠를 CDN으로 서비스하거나 하는 것들입니다.)

<br /><br /><br />
